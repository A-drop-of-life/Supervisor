
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تسجيل دخول المشرف</title>
<style>
body{font-family:Arial;direction:rtl;background:#f9f9f9;color:#333;padding:20px;}
.container{max-width:400px;margin:50px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
h2{text-align:center;color:#b71c1c;margin-bottom:20px;}
label{display:block;margin:10px 0 5px;}
input{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px;}
button{width:100%;padding:10px;background:#b71c1c;color:white;border:none;border-radius:6px;font-weight:bold;cursor:pointer;margin-top:5px;}
button:hover{background:#a00000;}
.msg{color:red;text-align:center;margin-top:10px;}
.password-wrapper{position:relative;}
.toggle-pass{position:absolute;top:50%;left:10px;transform:translateY(-50%);cursor:pointer;font-size:14px;color:#555;}
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBWIy4ny6Ki39OerkkH9gT-jr63Vn8s9Uk",
  authDomain: "drop-of-life-df6bf.firebaseapp.com",
  projectId: "drop-of-life-df6bf",
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const msg = document.createElement("div");
msg.classList.add("msg");
document.querySelector(".container").appendChild(msg);

function showMessage(text){
  msg.textContent = text;
}

// وظيفة تسجيل الدخول
window.loginAdmin = async () => {
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;

  if(!email || !password){
    showMessage("الرجاء ملء البريد وكلمة المرور");
    return;
  }

  try {
    await signInWithEmailAndPassword(auth,email,password);
    // إذا كانت البيانات صحيحة يتم النقل مباشرة
    window.location.href = "../sup.html";
  } catch(error){
    switch(error.code){
      case "auth/user-not-found":
        showMessage("هذا البريد غير مسجل كمشرف.");
        break;
      case "auth/wrong-password":
        showMessage("كلمة المرور غير صحيحة.");
        break;
      case "auth/invalid-email":
        showMessage("البريد الإلكتروني غير صالح.");
        break;
      default:
        showMessage("خطأ في تسجيل الدخول: " + error.message);
    }
  }
}

// إظهار/إخفاء كلمة المرور
window.addEventListener("DOMContentLoaded", ()=>{
  const passwordInput = document.getElementById("password");
  const togglePass = document.getElementById("togglePass");

  togglePass.onclick = ()=>{
    if(passwordInput.type === "password"){
      passwordInput.type = "text";
      togglePass.textContent = "إخفاء";
    } else {
      passwordInput.type = "password";
      togglePass.textContent = "إظهار";
    }
  };
});
</script>
</head>

<body>
<div class="container">
<h2>تسجيل دخول المشرف</h2>

<label>البريد الإلكتروني:</label>
<input type="email" id="email" placeholder="example@gmail.com">

<div class="password-wrapper">
  <label>كلمة المرور:</label>
  <input type="password" id="password" placeholder="********">
  <span class="toggle-pass" id="togglePass">إظهار</span>
</div>

<button onclick="loginAdmin()">تسجيل الدخول</button>

</div>
</body>
</html>
